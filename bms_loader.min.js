/*! @name bms_loader @version 0.1.0 @license MIT */
!function(e){"function"==typeof define&&define.amd?define(e):e()}((function(){"use strict";var e=function(e,t){return function(e){
/*!
	  * $script.js JS loader & dependency manager
	  * https://github.com/ded/script.js
	  * (c) Dustin Diaz 2014 | License MIT
	  */
!function(t,n){e.exports?e.exports=n():this.$script=n()}(0,(function(){var e,t,n=document,r=n.getElementsByTagName("head")[0],o={},i={},s={};function a(e,t){for(var n=0,r=e.length;n<r;++n)if(!t(e[n]))return!1;return 1}function c(e,t){a(e,(function(e){return t(e),1}))}function u(t,n,r){t=t.push?t:[t];var d=n&&n.call,l=d?n:r,m=d?t.join(""):n,h=t.length;function p(e){return e.call?e():o[e]}function b(){if(!--h)for(var e in o[m]=1,l&&l(),i)a(e.split("|"),p)&&!c(i[e],p)&&(i[e]=[])}return setTimeout((function(){c(t,(function t(n,r){return null===n?b():(r||/^https?:\/\//.test(n)||!e||(n=-1===n.indexOf(".js")?e+n+".js":e+n),s[n]?2==s[n]?b():setTimeout((function(){t(n,!0)}),0):(s[n]=1,void f(n,b)))}))}),0),u}function f(e,o){var i,a=n.createElement("script");a.onload=a.onerror=a.onreadystatechange=function(){a.readyState&&!/^c|loade/.test(a.readyState)||i||(a.onload=a.onreadystatechange=null,i=1,s[e]=2,o())},a.async=1,a.src=t?e+(-1===e.indexOf("?")?"?":"&")+t:e,r.insertBefore(a,r.lastChild)}return u.get=f,u.order=function(e,t,n){!function r(o){o=e.shift(),e.length?u(o,r):u(o,t,n)}()},u.path=function(t){e=t},u.urlArgs=function(e){t=e},u.ready=function(e,t,n){e=e.push?e:[e];var r,s=[];return!c(e,(function(e){o[e]||s.push(e)}))&&a(e,(function(e){return o[e]}))?t():(r=e.join("|"),i[r]=i[r]||[],i[r].push(t),n&&n(s)),u},u.done=function(e){u([null],e)},u}))}(t={exports:{}}),t.exports}();const t=["area","base","basefont","bgsound","br","col","command","embed","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"];class n{constructor(){this.promises={}}Load(t){if(this.promises[t])return this.promises[t];if(Array.from(document.head.querySelectorAll("script")).filter(e=>-1!==e.src.indexOf(t.replace("./","/"))).length)return Promise.resolve(!0);const n=new Promise(n=>e.get(t,()=>{n(!0)}));return this.promises[t]=n,this.promises[t]}}!function(e,r){const o=new n,i=e=>{const n=()=>{Array.from(r.body.querySelectorAll("[bms-code]")).forEach(e=>{const n=e.getAttribute("bms-code");if(!n)return;if(t.includes(e.tagName.toLowerCase()))return;e.removeAttribute("bms-code");const o=r.createElement("bms-app");o.setAttribute("code",n);let i={};e.getAttributeNames().forEach(e=>{switch(e){case"left":i.orient="left";break;case"right":i.orient="right";break;case"overlay":i.layout="overlay";break;case"frame":i.layout="frame";break;case"light":i.skin="light";break;case"dark":i.skin="dark"}}),Object.keys(i).forEach(e=>{o.setAttribute(e,i[e])}),e.append(o)})};return o.Load("https://olitvin.github.io/demo2/bms-app.min.js").then(()=>{setTimeout(n,100)})};e.addEventListener("load",i),r.addEventListener("DOMNodeInserted",i)}(window,document)}));
